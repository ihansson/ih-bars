window.bars=function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([,function(t,e){let r=[],n=!1,a={};throttle=50;const o=["bars/load","bars/before_load","bars/update","bars/before_update","bars/remove"];for(ev in o){let t=document.createEvent("Event");t.initEvent(o[ev],!0,!0),a[o[ev]]=t}function s(t,e){let n=document.querySelectorAll(t);for(i in n=Array.prototype.slice.call(n))l(n[i],e);r=r.concat(n)}function l(t,e){if(t.bars={data:[],spacing:0,height:100,vertical_align:"middle",pills:!1,circle:!1,show_number:!1},t.attributes.bars){let e=t.attributes.bars?function(t){let e={};return t?(t.split(";").forEach((function(t){let r=t.trim().split(":");if(!r[0])return;let n=r[0].trim(),a=!r[1]||r[1].trim();-1!==["height","spacing"].indexOf(n)&&(a=parseInt(a)),-1!==["data"].indexOf(n)&&(a=a.split(",").map((function(t){return parseFloat(t)}))),e[n]=!r[1]||a})),e):e}(t.attributes.bars.nodeValue):{};for(setting in e)t.bars[setting]=e[setting]}if(e)for(opt in e)t.bars[opt]=e[opt];t.dispatchEvent(a["bars/load"]),c(t)}function c(t){t.dispatchEvent(a["bars/before_update"]);const e=t.offsetWidth,r=!!t.bars.spacing&&e/t.bars.data.length/t.bars.spacing,n=r?((e-(t.bars.data.length-1)*r)/t.bars.data.length).toFixed(2):(e/t.bars.data.length).toFixed(2),i=e*(t.bars.height/100);t.style.height=t.bars.circles?n+"px":i+"px";let o='<div class="ih-bars">',s=0,l=0;t.bars.data.forEach(t=>{t>s&&(s=parseFloat(t)),t<l&&(l=parseFloat(t))}),t.bars.data.forEach((e,a)=>{let c="",d="",u=100*(parseFloat(e)-l)/(s-l)/100*(t.bars.circles?n:i);d+="vertical-align:"+t.bars.vertical_align+";",a+1!==t.bars.data.length&&r&&(d+="margin-right:"+r+"px;"),t.bars.pills&&(c+="border-radius:"+n/2+"px;"),t.bars.circles?(c+="width:"+u+"px;",d+="padding:0 "+(n-u)/2+"px;",c+="border-radius:50%;"):c+="width:"+n+"px;",c+="line-height:"+u+"px;",o+='<div class="ih-bar" style="'+d+'"><div class="ih-bar-inner" style="'+(c+="height:"+u+"px;")+'">'+(t.bars.show_number?'<span class="ih-bar-number">'+e+"</span>":"")+"</div></div>"}),o+="</div>",t.innerHTML=o,t.dispatchEvent(a["bars/update"])}function d(){const t=Date.now();if(!(n&&t-n<throttle))for(i in n=t,console.log("update all"),r)c(r[i])}t.exports={init:function(){s("[bars]"),window.addEventListener("resize",d)},destroy:function(){r=[],window.removeEventListener("resize",d)},add:s,remove:function(t){t.dispatchEvent(a["bars/remove"]),t.aiv.timeout&&window.clearTimeout(t.aiv.timeout),r=r.filter((function(e){return e!==t}))},load:l}}]);
//# sourceMappingURL=bars.min.js.map